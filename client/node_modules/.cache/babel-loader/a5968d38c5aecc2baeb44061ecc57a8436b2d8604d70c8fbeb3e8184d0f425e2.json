{"ast":null,"code":"var _jsxFileName = \"/Users/riku.isayama/Documents/0/chat-app/client/src/components/CreateChannelComponent.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport PlusIcon from \"@heroicons/react/24/outline/PlusIcon\";\nimport { useEffect, useState } from \"react\";\nimport { createChannel } from \"../services/chatService\";\n\n// {classNames(\n//   channel.current\n//     ? \"bg-gray-50 text-indigo-600\"\n//     : \"text-gray-700 hover:text-indigo-600 hover:bg-gray-50\",\n//   \"group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold\"\n// )}\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CreateChannelComponent = ({\n  channels\n}) => {\n  _s();\n  const [showInputField, setShowInputField] = useState(false);\n\n  // Function to close the input field when clicking outside of the component\n  const closeInputField = event => {\n    if (!event.target.closest(\"#create-channel-component\")) {\n      setShowInputField(false);\n    }\n  };\n  useEffect(() => {\n    window.addEventListener(\"click\", closeInputField);\n    return () => window.removeEventListener(\"click\", closeInputField);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"create-channel-component\",\n    children: showInputField ? /*#__PURE__*/_jsxDEV(CreateChannelInputField, {\n      setShowInputField: setShowInputField,\n      channels: channels\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"text-indigo-600 hover:bg-indigo-50 group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold mt-2 w-full\",\n      onClick: event => {\n        event.stopPropagation(); // Prevent click event from bubbling\n        setShowInputField(true);\n      },\n      children: [/*#__PURE__*/_jsxDEV(PlusIcon, {\n        className: \"text-indigo-600 h-6 w-6 shrink-0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this), \"Create a channel\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n};\n_s(CreateChannelComponent, \"ee3xVhPa6h2+vFh+8fxJ2WplRd0=\");\n_c = CreateChannelComponent;\nconst CreateChannelInputField = ({\n  setShowInputField,\n  channels\n}) => {\n  _s2();\n  const [value, setValue] = useState(\"\");\n  const handleInput = event => {\n    const transformedValue = event.target.value.replace(/\\s+/g, \"-\");\n    setValue(transformedValue);\n  };\n  const handleKeyDown = event => {\n    if (event.key === \"Enter\" && value.length !== 0) {\n      createChannel(value);\n      setValue(\"\");\n      setShowInputField(false);\n    }\n    if (channels.includes(value)) {}\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative mt-2 flex items-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: value,\n      onChange: handleInput,\n      onKeyDown: handleKeyDown,\n      placeholder: \"Enter your channel name\",\n      autoFocus: true,\n      className: \"block w-full rounded-md border-0 py-1.5 pl-2 pr-10 text-gray-900 shadow-sm ring-2 ring-inset ring-indigo-600 placeholder:text-gray-400 sm:text-sm sm:leading-6\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-y-0 right-0 flex py-1.5 pr-1.5\",\n      children: /*#__PURE__*/_jsxDEV(\"kbd\", {\n        className: \"inline-flex items-center rounded border border-gray-200 px-1 font-sans text-xs text-gray-400\",\n        children: \"Enter\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this)\n  //   <div>\n  //   <label for=\"error\" class=\"block mb-2 text-sm font-medium text-red-700 dark:text-red-500\">Your name</label>\n  //   <input type=\"text\" id=\"error\" class=\"bg-red-50 border border-red-500 text-red-900 placeholder-red-700 text-sm rounded-lg focus:ring-red-500 dark:bg-gray-700 focus:border-red-500 block w-full p-2.5 dark:text-red-500 dark:placeholder-red-500 dark:border-red-500\" placeholder=\"Error input\">\n  //   <p class=\"mt-2 text-sm text-red-600 dark:text-red-500\"><span class=\"font-medium\">Too late!</span> Channel name's already taken.</p>\n  // </div>\n  ;\n};\n_s2(CreateChannelInputField, \"dBtK6I2q1m3rcfzPBa0nrbv/iCI=\");\n_c2 = CreateChannelInputField;\nexport default CreateChannelComponent;\nvar _c, _c2;\n$RefreshReg$(_c, \"CreateChannelComponent\");\n$RefreshReg$(_c2, \"CreateChannelInputField\");","map":{"version":3,"names":["PlusIcon","useEffect","useState","createChannel","jsxDEV","_jsxDEV","CreateChannelComponent","channels","_s","showInputField","setShowInputField","closeInputField","event","target","closest","window","addEventListener","removeEventListener","id","children","CreateChannelInputField","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","stopPropagation","_c","_s2","value","setValue","handleInput","transformedValue","replace","handleKeyDown","key","length","includes","type","onChange","onKeyDown","placeholder","autoFocus","_c2","$RefreshReg$"],"sources":["/Users/riku.isayama/Documents/0/chat-app/client/src/components/CreateChannelComponent.tsx"],"sourcesContent":["import PlusIcon from \"@heroicons/react/24/outline/PlusIcon\";\nimport { Dispatch, SetStateAction, useEffect, useState } from \"react\";\nimport { createChannel } from \"../services/chatService\";\n\n// {classNames(\n                                //   channel.current\n                                //     ? \"bg-gray-50 text-indigo-600\"\n                                //     : \"text-gray-700 hover:text-indigo-600 hover:bg-gray-50\",\n                                //   \"group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold\"\n                                // )}\n\ninterface CreateChannelComponentProps {\n  channels: { id: string; name: string; }[];\n}\n\nconst CreateChannelComponent: React.FC<CreateChannelComponentProps> = ({channels}) => {\n  const [showInputField, setShowInputField] = useState<boolean>(false);\n\n  // Function to close the input field when clicking outside of the component\n  const closeInputField = (event: MouseEvent) => {\n    if (!(event.target as Element).closest(\"#create-channel-component\")) {\n      setShowInputField(false);\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"click\", closeInputField);\n    return () => window.removeEventListener(\"click\", closeInputField);\n  }, []);\n\n  return (\n    <div id=\"create-channel-component\">\n      {showInputField ? (\n        <CreateChannelInputField setShowInputField={setShowInputField} channels={channels} />\n      ) : (\n        <button\n          className=\"text-indigo-600 hover:bg-indigo-50 group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold mt-2 w-full\"\n          onClick={(event) => {\n            event.stopPropagation(); // Prevent click event from bubbling\n            setShowInputField(true);\n          }}\n        >\n          <PlusIcon className=\"text-indigo-600 h-6 w-6 shrink-0\" />\n          Create a channel\n        </button>\n      )}\n    </div>\n  );\n};\n\ninterface CreateChannelInputFieldProps {\n  setShowInputField: Dispatch<SetStateAction<boolean>>;\n  channels: { id: string; name: string; }[];\n}\n\nconst CreateChannelInputField: React.FC<CreateChannelInputFieldProps> = ({\n  setShowInputField,\n  channels\n}) => {\n  const [value, setValue] = useState<string>(\"\");\n\n  const handleInput = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const transformedValue = event.target.value.replace(/\\s+/g, \"-\");\n    setValue(transformedValue);\n  };\n\n  const handleKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    if (event.key === \"Enter\" && value.length !== 0) {\n      createChannel(value);\n      setValue(\"\");\n      setShowInputField(false);\n    }\n\n    if (channels.includes(value)) {\n\n    }\n  }\n\n  return (\n    <div className=\"relative mt-2 flex items-center\">\n      <input\n        type=\"text\"\n        value={value}\n        onChange={handleInput}\n        onKeyDown={handleKeyDown}\n        placeholder=\"Enter your channel name\"\n        autoFocus\n        className=\"block w-full rounded-md border-0 py-1.5 pl-2 pr-10 text-gray-900 shadow-sm ring-2 ring-inset ring-indigo-600 placeholder:text-gray-400 sm:text-sm sm:leading-6\"\n      />\n      <div className=\"absolute inset-y-0 right-0 flex py-1.5 pr-1.5\">\n        <kbd className=\"inline-flex items-center rounded border border-gray-200 px-1 font-sans text-xs text-gray-400\">\n          Enter\n        </kbd>\n      </div>\n    </div>\n  //   <div>\n  //   <label for=\"error\" class=\"block mb-2 text-sm font-medium text-red-700 dark:text-red-500\">Your name</label>\n  //   <input type=\"text\" id=\"error\" class=\"bg-red-50 border border-red-500 text-red-900 placeholder-red-700 text-sm rounded-lg focus:ring-red-500 dark:bg-gray-700 focus:border-red-500 block w-full p-2.5 dark:text-red-500 dark:placeholder-red-500 dark:border-red-500\" placeholder=\"Error input\">\n  //   <p class=\"mt-2 text-sm text-red-600 dark:text-red-500\"><span class=\"font-medium\">Too late!</span> Channel name's already taken.</p>\n  // </div>\n  );\n};\n\nexport default CreateChannelComponent;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}